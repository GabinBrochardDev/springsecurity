<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registrer</title>
</head>
<body>

    <h2>Registrer</h2>

    <div th:if="${success}">
        <strong>Compte créé !</strong>
        <a href="/login">Login</a>
    </div>

    <form method="post" th:objet="${registerDto}">

        <input type="hidden" th:name="${_csrf.parameterName}"
        th:value="${_csrf.token}" />

        <label>Prénom (*)</label>
        <input th:field="${registerDto.prenom}">
        <p th:if="${#fields.hasErrors('registerDto.prenom')}"
        th:errorclass="text-danger"
        th:errors="${registerDto.prenom}"></p>

        <label>Nom (*)</label>
        <input th:field="${registerDto.nom}">
        <p th:if="${#fields.hasErrors('registerDto.nom')}"
           th:errorclass="text-danger"
           th:errors="${registerDto.nom}"></p>

        <label>Nom d'utilisateur (*)</label>
        <input th:field="${registerDto.username}">
        <p th:if="${#fields.hasErrors('registerDto.username')}"
           th:errorclass="text-danger"
           th:errors="${registerDto.username}"></p>

        <label>Mot de passe (*)</label>
        <input type="password" th:field="${registerDto.password}">
        <p th:if="${#fields.hasErrors('registerDto.password')}"
           th:errorclass="text-danger"
           th:errors="${registerDto.password}"></p>

        <label>Confirmation mot de passe (*)</label>
        <input type="password" th:field="${registerDto.confirmPassword}">
        <p th:if="${#fields.hasErrors('registerDto.confirmPassword')}"
           th:errorclass="text-danger"
           th:errors="${registerDto.confirmPassword}"></p>


        <button type="submit">Créer</button>
        <a href="/">Annuler</a>



    </form>

</body>
</html>